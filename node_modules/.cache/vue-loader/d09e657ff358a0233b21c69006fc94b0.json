{"remainingRequest":"C:\\Unichat\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Unichat\\src\\views\\Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Unichat\\src\\views\\Message.vue","mtime":1623065363822},{"path":"C:\\Unichat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Unichat\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Unichat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Unichat\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnbWVzc2FnZScsDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICBzZWFyY2hjb250YWN0OiIiLA0KICAgICAgICAgICAgdXNlcjoiIiwNCiAgICAgICAgICAgIGlzcmVhZDpmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDp7DQogICAgICAgIG1lc3NhZ2VzKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDaGF0cyh0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpKTsNCiAgICAgICAgfSwNCiAgICAgICAgaXN1c2VyKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXInKS5pZD09PXRoaXMucG9zdC51c2VySWQNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICANCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBnZXRVc2VyQnlNZXNzYWdlKG1lc3NhZ2Upew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlckJ5TWVzc2FnZShtZXNzYWdlLHRoaXMuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQpOw0KICAgICAgICB9LA0KICAgICAgICBnZXRVc2VySW1tYWdlKG1lc3NhZ2Upew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlckJ5TWVzc2FnZShtZXNzYWdlKS5pbWdwcm9maWxlOw0KICAgICAgICB9LA0KICAgICAgICBnZXRVc2VyUHJvZmlsZShtZXNzYWdlKXsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJCeU1lc3NhZ2UobWVzc2FnZSkucHJvZmlsZTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VXNlck5hbWUobWVzc2FnZSl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVc2VyQnlNZXNzYWdlKG1lc3NhZ2UpLm5hbWU7DQogICAgICAgIH0sDQogICAgICAgIGdldExhc3RNZXNzYWdlKG1lc3NhZ2Upew0KICAgICAgICAgICBsZXQgbXNnPW1lc3NhZ2UubWVzc2FnZXNbMF07DQogICAgICAgICAgIHRoaXMuaXNyZWFkPW1zZy5yZWFkOw0KICAgICAgICAgICByZXR1cm4gbXNnOw0KICAgICAgICB9LA0KICAgICAgICBnb1RvY2hhdChpZCl7DQogICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J2NoYXQnLCBwYXJhbXMgOiB7J2NoYW5lbElkJzogaWR9fSkNCiAgICAgICAgfQ0KDQogICAgfSwNCiAgICBjb21wb25lbnRzOnsNCg0KICAgIH0NCg0KfQ0K"},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA","file":"Message.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"messageApp\">\r\n \r\n      <div class=\"messages\">\r\n          <div class=\"message\" v-for=\"(message, index) in messages\" :key=\"index\" @click=\"goTochat(message.chanelId)\">\r\n              <div class=\"image\">\r\n                  <div v-if=\"getUserImmage(message)!==''\">\r\n                  </div>\r\n                  <div v-else class=\"profile\">\r\n                      {{getUserProfile(message)}}\r\n                  </div>\r\n              </div>\r\n              <div class=\"bodychat\">\r\n                  <div class=\"userchat\">\r\n                      {{getUserName(message)}}\r\n                  </div>\r\n                  <div class=\"lastMessage\">\r\n                    <p class=\"notRead\" v-if=\"!isread\">{{getLastMessage(message).body}}</p>\r\n                    <p v-else>{{getLastMessage(message).body}}</p>\r\n                  </div>\r\n              </div>\r\n              <div class=\"data\">\r\n                 {{getLastMessage(message).time}}\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n    name: 'message',\r\n    data(){\r\n        return{\r\n            searchcontact:\"\",\r\n            user:\"\",\r\n            isread:false\r\n        }\r\n    },\r\n    computed:{\r\n        messages(){\r\n            return this.$store.getters.getChats(this.$session.get('user'));\r\n        },\r\n        isuser(){\r\n            return this.$session.get('user').id===this.post.userId\r\n        },\r\n    },\r\n    watch:{\r\n       \r\n    },\r\n    methods:{\r\n        getUserByMessage(message){\r\n            return this.$store.getters.getUserByMessage(message,this.$session.get('user').id);\r\n        },\r\n        getUserImmage(message){\r\n            return this.getUserByMessage(message).imgprofile;\r\n        },\r\n        getUserProfile(message){\r\n            return this.getUserByMessage(message).profile;\r\n        },\r\n        getUserName(message){\r\n            return this.getUserByMessage(message).name;\r\n        },\r\n        getLastMessage(message){\r\n           let msg=message.messages[0];\r\n           this.isread=msg.read;\r\n           return msg;\r\n        },\r\n        goTochat(id){\r\n             this.$router.push({name:'chat', params : {'chanelId': id}})\r\n        }\r\n\r\n    },\r\n    components:{\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n    .messageApp{\r\n        max-height: calc(100vh - 150px);\r\n        min-height: 500px;\r\n        background-color: rgba(220, 245, 241, 0.85);\r\n        overflow-y: scroll;\r\n        max-width: auto;\r\n        min-width: 400px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        .headerMessage{\r\n            display: flex;\r\n            padding-top: 10px;\r\n            justify-content: center;\r\n            width: max-content;\r\n            min-width: 400px;\r\n        }\r\n\r\n        .messages{\r\n            padding-top: 20px;\r\n            display: grid;\r\n            grid-row-gap: 10px;\r\n            .message{\r\n                margin: 5px;\r\n                padding: 10px;\r\n                display: grid;\r\n                grid-template-columns: 50px calc(100vw - 675px) 25px; \r\n                border: 0.5px solid black;\r\n                border-radius: 25px;\r\n                .image{\r\n                    display: flex;\r\n                    width: 50px;\r\n                    height: 50px;\r\n                    background-color: rgb(170, 170, 170);\r\n                    border-radius: 25px;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                }\r\n                .bodychat{\r\n                    height: 50px;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    align-items: center;\r\n                }\r\n\r\n                .data{\r\n                    display: flex;\r\n                    justify-content: flex-end;\r\n                    align-items: flex-end;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n</style>"]}]}